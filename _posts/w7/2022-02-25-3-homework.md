---
layout: post
title:  "W7-3 Homework Set (6) DRAFT"
---
## Overview
The homework set counts for <span style="color:#0000ff;"> 6.5%  </span> of your total grade. Bonus opportunity:   <span style="color:#0000ff;"> ~1% </span>. 
- Part 1, PIL Image and Image Draw modules:  <span style="color:#0000ff;"> 3%  </span>
	- bonus opportunity: <span style="color:#0000ff;"> 0.5%  </span>
- Part 2, Design Refactor <span style="color:#0000ff;"> 3.5%  </span>
	- bonus opportunity 1 <span style="color:#0000ff;">  (0.1-0.5%)  </span>


The peer review of this homework set counts for <span style="color:#0000ff;"> 0.5%  </span>


Useful link:
	- [PIL Image Documentation](https://pillow.readthedocs.io/en/stable/reference/Image.html)

**[ANSWER SHEET](https://docs.google.com/document/d/1uLZUfTuwIKT1ff2Sirvb3CJB_VMOJ5Bx2psGNTpSkZA/edit#)**


## Part 1: Maya Tetris Coloring[(partially covered in lab)](https://www.youtube.com/watch?v=lVzRtpTwdpc):  <span style="color:#0000ff;"> 3%  </span>

**Overview**: Turtle graphics package is a great introduction into programming-based image generation. However, turtle graphics might not be an ideal tool for generating complex and advanced graphics designs. In this homework, we will learn powerful python-based imaging package called [PILLOW](https://python-pillow.org/) (often called **PIL**) .  For the rest of the semester, we will primarily create designs using the PIL package. 


### Task 1.1 Creating and saving images using PIL <span style="color:#0000ff;"> 0.5%  </span>

To use the PIL package, you need to import the PIL module. Because the PIL module has multiple submodules, we will only import parts that are relevant to us. 


In your `hw6_part1.py`, write the following import statement. 


```
from PIL import Image, ImageDraw
```

- If you have installed anaconda, PIL is likely to be installed along with your anaconda. 
- If you have not installed PIL, please follow [this installation guide](https://pillow.readthedocs.io/en/stable/installation.html)


There are multiple ways to create images using the PIL package. We will use the `Image.new()` method ([doc](https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.new)).

The PIL.Image.new() method takes 3 values: mode, size, and color. 

`mode` indicate the type of image you are generating. According to the [documentation](https://pillow.readthedocs.io/en/stable/handbook/concepts.html#concept-modes):
![[Pasted image 20220225171536.png]]

The most relevant modes we will use in this class includes:
- 1: black and white images:
	-  you only have two color values: 0 is black, 1 is white. 
- L: grayscale images:
	- you have the full 256 grayscale intensities. 0 is the darkest, 1 is the lightest   
- RGB: colored image with RGB value 
- HSV: colored image that use Hue, Saturation and Value. 

`size` is a 2-tuple contains the width and height of the image in pixels. 
e.g., 
```

width=300
height=300
size=(width,height)

```

`color` is the default color to use for the image. By default, the image is black. 

to show an image, use the `PIL.Image.show()` command. 

e.g., 
```
from PIL import Image,ImageDraw  
  
  
width=300  
height=300  
size=(width,height)  
  
img=Image.new("L",size,0) #store the created image into a variable called img 
img.show() #show this image 

```

To save an image, use `Image.save()` method: 

Image library provides powerful image exporting utilities. [Read to the documentation here](https://pillow.readthedocs.io/en/stable/reference/Image.html#PIL.Image.new) to learn more about the `Image.save()` method.  [This document](https://pillow.readthedocs.io/en/stable/handbook/image-file-formats.html) lists all the possible export options. 

In summary, you save an image by calling 
```
#img is a variable that holds your image 
#save_addr is a variable that holds the location and name of your output 
#e.g., save_addr="c:/test/test_img.png"
# if save_addr only contains image name, e.g., save_addr="test.jpg", 
# then your image will be store in the same location of your python script. 


img.save(save_addr)
```

**Task:** 
write a function to generate RGB images with a random size and a random background. The width and height of the image ranges from 300 pixel to 700 pixels. When finish generating the image, your function will save the image in a given location. 

i.e., implement the following function 

```
def create_random_canvas(width_range,height_range,save_loc,save_name):
	'''
	create an image with random size and background color
	:param width_range: a list of 2 numberical values that determine the range of the canvas width. 
	:param height_range: a list of 2 numberical values that determine the range of the canvas height. 
	:param save_loc: location where the created image will be stored 
	:param save_name: name (and file extension) of the image to be saved
	'''
	##TODO 

```

When running the following line:
```
create_random_canvas([300,700],[300,700],"","test.jpg")
```

Your function should create an image with random background color and size, and store it as "test.jpg" in the location where your python script is stored. 


### Task 1.2 Drawing a rectangle in PIL <span style="color:#0000ff;"> 0.5%  </span>

In PIL, the `ImageDraw` module provides drawing utilities to create graphics. To create a rectangle, you have multiple options:
1. You can use `ImageDraw.line()` to create 4 lines [doc here](https://pillow.readthedocs.io/en/stable/reference/ImageDraw.html#PIL.ImageDraw.ImageDraw.line). 
2. Or `ImageDraw.polygon()` [doc](https://pillow.readthedocs.io/en/stable/reference/ImageDraw.html#PIL.ImageDraw.ImageDraw.polygon)

Your goal is to implement a function, so that given an image and settings for a rectangle, your function will generate a rectangle on your image. 

i.e., implement the following image 

```

def draw_rect(img,x,y,w,h,color=(0,0,0),filled=False):
	'''
	create a rectangle on the given image 
	:param x:top left corner
	:param y: top left corner
	:param w
	:param h
	:param color: stroke and fill color 
	:param filled: determine if the rectangle is filled or not. 
	:return img with the rectangle 
	'''
	##TODO 
	return img 

```


### Task 1.3 Implement a grid layout system in PIL <span style="color:#0000ff;"> 0.5%  </span> 

In previous lab and homework, we have implemented grid-based layouts multiple times. In this task, implement a grid-layout function that generates a square grid according different settings. 

i.e., 

```
def grid_layout(col_ct,row_ct,cell_size,margin):  
    ''' 
	create an image that contains a grid layout. 
	
	 :param col_ct:
	 :param row_ct:
	 :param cell_size: width and height of the cell 
	 :param margin:
	 :return: img object that contains the grid drawing
    '''
	#todo 
```

After implementation, calling the following lines

```
img=grid_layout(3,3,40,20)  
img.show()
```

would generate an image similar to this 

![[Pasted image 20220225181842.png]]


### Task 1.4 Generate a rectangle tile design <span style="color:#0000ff;"> 0.5%  </span>


Implement a simple 1-rectangle tile design with the following spec:
1. In each cell, there exist one rectangle. 
![[Pasted image 20220225183022.png]]
2. The color and size of the rectangle can be random 
	1. e.g., ![[Pasted image 20220225183156.png]] and ![[Pasted image 20220225183239.png]] are both possible results. 
2. When the layout setting changes (i.e., col_ct, row_ct, cell_size), your function should still work. 
	1. e.g., your function should be able to generate similar images like this one
		 ![[Pasted image 20220225183358.png]]
*Fill the answer sheet for this task.*


### Task 1.5 Generate a rectangle tile design <span style="color:#0000ff;"> 1%  </span>


Implement a rectangle tile design with the following spec:
1. Same with 1.4: in each cell, there exist one rectangle. The color and size of the rectangle can be random. 
2. The inner rectangle is rotated randomly around its center (also the center of each cell)

e.g., your function should generate images like 
![[Pasted image 20220225184017.png]]

Note that the rotation center is the center of each cell. This is more obvious if your inner-rectangle is a square. e.g., if rotation angle is 45 and all inner rectangles are squares, you will generate images similar to this:


![[Pasted image 20220225184230.png]]
*Fill the answer sheet for this task.*



